{"name":"Asterisk-disa-callback","tagline":"Asterisk DISA Callback","body":"#asterisk-disa-callback\r\n\r\nAsterisk DISA Callback\r\n\r\n#HU:\r\nEz egy kis Asterisk konfig fájl gyűjtemény amivel úgynevezett DISA tárcsahangot kaphatsz visszahívással.\r\nEzt arra tudod használni, hogy (dupla) VoIP percdíjért telefonálj, a felháborítóan magas GSM szolgáltatói percdíj helyett.\r\n\r\n**_E LEÍRÁS HASZNÁLATÁHOZ ASTERISKET KELL TELEPÍTENED A GÉPEDRE, VALAMINT SZÜKSÉGED LESZ LEGALÁBB 2 VAGY 3 SIP FIÓKRA_**\r\n\r\n##Hogyan működik?\r\n\r\nEgy telefonszám felhívásával visszahívást kérhetsz.\r\nFelhívsz egy telefonszámot, a központ nem veszi fel a hívásod, hanem egy foglalt jelzést küld vissza, így nem kerül pénzbe neked, tehát hívhatod akár külföldről, vagy olyan telefonról is aminek alacsony az egyenlege.\r\n\r\nA központ miután foglalt jelzést küldött, visszahív téged.\r\n\r\nBiztonsági okokból csak az engedélyezett számokat hívja vissza, így nem kell használnod semmiféle jelszót a híváshoz.\r\n\r\nAmikor felveszed a központ visszahívását, egy tárcsahangot fogsz kapni. \r\n\r\nEkkor ha 1-9 ig nyomsz gombot, akkor a gyorshívásra betárolt számokat fogja hívni, ha olyat választottál ami üres memóriahely, akkor marad a választómenüben és újat próbálhatsz, ha 0-t nyomsz, akkor nem betárolt telefoszámot hívhatsz.\r\n\r\nHa 0t nyomtál elkezdheted beütni a hívni kívánt telefonszámot nemzetközi formátumban. (A + jel helyett 00 tárcsázandó) majd miután begépelted a számot, nyomd meg a **#** gombot a hívás indításához).\r\n\r\nEzután a központ felhívja a beütött számot, majd összekapcsol vele.\r\n\r\nA kimenő hívás hívóazonosítója a visszahívást fogadó telefonszám lesz. Tehát olyan, mintha a saját számodról hívnád. Ezen funkció helyes működéséhez ne felejtsd el hozzáadni a (FVD/BC) webes felületen a telefonszámot, mert csak azokat a telefoszámokat tudja kijelezni a rendszer amik meg lettek erősítve korábban.\r\n\r\n##Hogyan használd ezt a leírást:\r\n\r\nMagyarázat a konfig fájlok szekcióihoz:\r\n\r\n###extensions_global.conf\r\n\r\nEz a fájl tartalmazza a dialplan által használt telefonszámokat és más paramétereket.\r\n\r\n**ALLOWED_NUMBER_0 .. n**<br>\r\nAon telefonszám amelyiknek engedélyezni szeretnénk a visszahívási kérést. Ezt a sort a kívánt számban lemásolhatod egymás alá aszerint, hogy hány telefonszámnak szeretnéd engedélyezni a rendszer használatát. (Példa: 0036209876543)\r\nAmennyiben több telefonszámnak szeretnéd engedélyeznia rendszer használatát változtatnod kell a változó nevében szereplő számot, (0..1..2..3), illetve az extensions.conf ban is le kell másolnod a megfelelő sorokat, és az új változóneveket kell használnod.\r\n\r\n**ALLOW_INTERNALS_OUTBOUND**<br>\r\nBelső mellékek kimenő irányú hívásainak engedélyezése.\r\nBe: **ON**<br>\r\nKi: **OFF**\r\n\r\n**RECORD_CALL**<br>\r\nHívásrögzítés bekapcsolása.<br>\r\nBe: **ON**<br>\r\nKi: **OFF**\r\n\r\n**RECORD_FORMAT**<br>\r\nHívásrögzítési formátum.<br>\r\nAlapértelmezett **wav**.\r\n\r\n**RECORD_PATH**<br>\r\nHívásrögzítési útvonal. <br>\r\nAlapértelmezett: **/var/spool/asterisk/monitor/**\r\n\r\n**REWRITE_COUNTRY**<br>\r\nAzon országnak a kódja amelyiknek a helyi telefonszám formátumát át szeretnénk írni nemzetközi formátumba hívószámkijelzéshez.\r\nJelenleg csak a \"hu\" kód él.\r\nÁtalakítja a 06 os számokat 0036 os számokká.\r\nHa csak 7 számjegyű a hívóazonosító érkezik, eléfűzi a 0621 előtagot.\r\nHa nem magyar szám érkezik (pl 0044...) akkor nem ír át semmit.\r\nEz azt jelenti, hogy engedélyezett számnak lehet vegyesen magyar és külföldk számot is megadni.\r\nFONTOS, hogy a visszahíváskérést fogadó telefonszám MAGYAR legyen. \r\n(Pl valamilyen 21 es körzetű szám)\r\n\r\n**TRUNK_CALLBACK**<br>\r\nAnnak a SIP fióknak a neve amelyiken a visszahívást szeretnénk indítani.\r\n(A fiók neve a sip_providers.conf ban lévő kategória neve.)\r\n\r\n**TRUNK_CALLBACK_MAX_CALLS**<br>\r\nA visszahívást indító SIP fiókon engedélyezett egyidejű hívások száma.\r\n\r\n**TRUNK_OUTGOING**<br>\r\nAnnak a SIP fióknak a neve amelyiken a kimenő hívást szeretnénk indítani.\r\n(A fiók neve a sip_providers.conf ban lévő kategória neve.)\r\n\r\n**TRUNK_OUTGOING_MAX_CALLS**<br>\r\nA kimenő hívást indító SIP fiókon engedélyezett egyidejű hívások száma.\r\n\r\n**TRIGGER_NUMBER**<br>\r\nErre a számra érkezik a visszahívási kérelem. (Példa: 0621380....)\r\n(Jelenleg nem használt)\r\n\r\n**QUICKDIAL_1 .. 9**<br>\r\nGyorshívás gombok telefonszámai 1-9\r\n\r\n###extensions.conf\r\n**[disa-request]**<br>\r\nA visszahívási kérelem ebbe a contextbe fog érkezni.\r\nItt dől el, hogy engedélyezett számról van-e szó, és visszahívható-e?\r\n\r\n**[disa-out]**<br>\r\nEz a context kéri be a gyorshívást, 0 megnyomása esetén pedig a hívandó telefonszámot. \r\nJelenleg ez a context tárcsahangot ad.\r\n\r\n**[outbound]**<br>\r\nA tárcsahangnál beütött telefonszám hívása ezen a contexten keresztül fog megtörténni.\r\n\r\n**[busy]**<br>\r\nEnnek a contextnek a foglalt jelzés küldés a célja.\r\n\r\n**[hangup]**<br>\r\nEnnek a contextnek a hívásmegszakítás a célja.\r\n\r\n**[hangup-context]**<br>\r\nJelenleg nem használt.\r\n\r\n**[originate-context]**<br>\r\nEzen a contexten keresztül végezzük a hívószámkijelzéses visszahívás indítását.\r\n\r\n**[macro-sip-dialer]**<br>\r\nEz a makró végez minden kimenő hívásindítást, az alapján, hogy az egyidőben engedélyezett hívások számát túlléptük e.\r\n\r\n**[macro-stdvoip]**<br>\r\nJelenleg nem használt.\r\n(A sip-dialer egyszerűsített verziója)\r\n\r\n**[macro-international-format]**<br>\r\nEz a makró végzi eg a telefonszámok helyi formátumról (06) nemzetközi formátumra (0036) alakítását.\r\n\r\n### extensions_internal.conf\r\n\r\nA belső mellékek routolását irányító dialplan részlet.\r\n\r\n\r\n### sip.conf\r\n\r\nAlap konfig fájl, ami további beállítófájlokat tölt be.\r\n\r\n### sip_clients.conf\r\n\r\nBelső mellékek konfigurációs fájlja.<br>\r\n**&#91;client1&#93;(internal_clients)** Egy mellék szekciója. Kívánt számban lemásolható.<br>\r\n**&#91;client1&#93;** &#91;Felhasználónév&#93;<br>\r\n**secret** Jelszó (Lehetőleg random, minimum 16 karakteres értéket állíts be jelszónak.)<br>\r\n**cid_number** A mellék kimenő hívásokhoz küldendő hívóazonosítója.\r\n\r\n### sip_providers.conf\r\n\r\nItt be kell állítanod a SIP fiókokat amiket használni szeretnél a hívások során.\r\n\r\nAlapesetben a **bc_out** az a fiók amelyik visszahív, **fvd_out** pedig a kimenő hívás fiókja.\r\n**NeoPhoneX-in** a visszahívási kérelmet fogadó fiók.\r\n\r\n### sip_registers.conf\r\nA visszahívási kérelmet fogadó fiókot ebben a fájlban is be kell állítanod.\r\nCélszerű IP címet megadni URL helyett egyes eszközökön.\r\n\r\n##Hardverplatform konfigurációk\r\nErre a részre akkor lesz szükséged, ha valamilyen hardveren szeretnéd használni a konfig csomagot.\r\n\r\n### TP-LINK TL-WR1043ND (OpenWRT)\r\nA TP-LINK TL-WR1043ND router egy igen népszerű router manapság. OpenWRT firmware használatával felteleptheted rá az Asterisk alközpontot. Ahhoz, hogy a mellékelt konfigfájlok megfelelően működjenek, az alábbi csomagokat érdemes teleptened (11.8.1-1 verzióval tesztelve):\r\n\r\n- asterisk11\r\n- asterisk11-app-originate\r\n- asterisk11-app-read\r\n- asterisk11-app-system\r\n- asterisk11-codec-a-mu\r\n- asterisk11-codec-adpcm\r\n- asterisk11-codec-alaw\r\n- asterisk11-codec-gsm\r\n- asterisk11-codec-resample\r\n- asterisk11-codec-ulaw\r\n- asterisk11-func-groupcount\r\n\r\n-Ezeket a csomagokat egy úgynevezett csomagtárolóból tudod letölteni, ehhez nyisd meg a ** System &gt; Software &gt; Configuration** panelt, és szúrd be a következő sort a szövegmező elejére:<br>\r\n -**src/gz snapshots http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/**\r\n\r\nTelepítés után engedélyezned kell a bekapcsoláskori indulást a **System &gt; Startup** fülön.\r\n\r\nKézi: <br />\r\n- Indítás: **/etc/init.d/asterisk start**<br />\r\n- Leállítás: **/etc/init.d/asterisk stop**<br />\r\n- Újraindítás: **/etc/init.d/asterisk restart**<br />\r\n\r\nAsterisk konzol: **asterisk -rvvvvvv**<br />\r\n\r\nA hangfájlok elérési útja ezen az eszközön:<br />\r\n**/usr/lib/asterisk/sounds/**","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}